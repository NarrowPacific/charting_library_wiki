(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{212:function(e,t,s){"use strict";s.r(t);var o=s(0),r=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("p",[e._v("ðŸ’¹ All content on this page is related to "),s("a",{attrs:{href:"Trading-Terminal"}},[e._v("Trading Terminal")]),e._v(" only.")]),e._v(" "),s("p",[e._v("Broker API is a key component that enables live trading. Its main purpose is to connect our charts with your trading logic. In terms of "),s("code",[e._v("JS")]),e._v(", it is an "),s("code",[e._v("object")]),e._v(" which is expected to expose the specific interface. Here is a list of API's "),s("strong",[e._v("methods")]),e._v(" that Terminal is expected to have.")]),e._v(" "),s("h2",{attrs:{id:"required-methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#required-methods","aria-hidden":"true"}},[e._v("#")]),e._v(" Required Methods")]),e._v(" "),s("h3",{attrs:{id:"constructor-host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#constructor-host","aria-hidden":"true"}},[e._v("#")]),e._v(" constructor(host)")]),e._v(" "),s("p",[e._v("The constructor of the Broker API usually takes "),s("a",{attrs:{href:"Trading-Host"}},[e._v("Trading Host")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"positions-promise-position"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#positions-promise-position","aria-hidden":"true"}},[e._v("#")]),e._v(" positions : Promise<Position[]>")]),e._v(" "),s("p",[e._v("This method is called by the Trading Terminal to request "),s("a",{attrs:{href:"Trading-Objects-and-Constants#position"}},[e._v("positions")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"orders-promise-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#orders-promise-order","aria-hidden":"true"}},[e._v("#")]),e._v(" orders : Promise<Order[]>")]),e._v(" "),s("p",[e._v("This method is called by the Trading Terminal to request "),s("a",{attrs:{href:"Trading-Objects-and-Constants#order"}},[e._v("orders")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"executions-symbol-promise-execution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#executions-symbol-promise-execution","aria-hidden":"true"}},[e._v("#")]),e._v(" executions(symbol) : Promise<Execution[]>")]),e._v(" "),s("p",[e._v("This method is called by the Trading Terminal to request "),s("a",{attrs:{href:"Trading-Objects-and-Constants#execution"}},[e._v("executions")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"trades-promise-trade"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#trades-promise-trade","aria-hidden":"true"}},[e._v("#")]),e._v(" trades : Promise<Trade[]>")]),e._v(" "),s("p",[e._v("This method is called by the Trading Terminal to request "),s("a",{attrs:{href:"Trading-Objects-and-Constants#trade"}},[e._v("trades")]),e._v(" (individual positions).")]),e._v(" "),s("h3",{attrs:{id:"chartcontextmenuactions-e"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chartcontextmenuactions-e","aria-hidden":"true"}},[e._v("#")]),e._v(" chartContextMenuActions(e)")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("e")]),e._v(" is a context object passed by a browser")])]),e._v(" "),s("p",[e._v("Chart can have a sub-menu "),s("code",[e._v("Trading")]),e._v(" in the context menu. It returns the list of items in a sub-menu. The format is the same as in "),s("code",[e._v("buttonDropdownItems")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"connectionstatus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connectionstatus","aria-hidden":"true"}},[e._v("#")]),e._v(" connectionStatus()")]),e._v(" "),s("p",[e._v("You don't need to return values other than "),s("code",[e._v("1")]),e._v(" typically since the broker is already connected when you create the widget. You can use it if you want to display a spinner in the bottom panel while the data is being loaded.\nPossible return values are:")]),e._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[e._v("ConnectionStatus"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Connected "),s("span",{attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{attrs:{class:"token number"}},[e._v("1")]),e._v("\nConnectionStatus"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Connecting "),s("span",{attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{attrs:{class:"token number"}},[e._v("2")]),e._v("\nConnectionStatus"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Disconnected "),s("span",{attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{attrs:{class:"token number"}},[e._v("3")]),e._v("\nConnectionStatus"),s("span",{attrs:{class:"token punctuation"}},[e._v(".")]),e._v("Error "),s("span",{attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{attrs:{class:"token number"}},[e._v("4")]),e._v("\n")])])]),s("h3",{attrs:{id:"istradable-symbol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#istradable-symbol","aria-hidden":"true"}},[e._v("#")]),e._v(" isTradable(symbol)")]),e._v(" "),s("p",[e._v("This function is required for the Floating Trading Panel. The ability to trade via the panel depends on the result of this function: "),s("code",[e._v("true")]),e._v(" or "),s("code",[e._v("false")]),e._v(". You don't need to implement this method if all symbols can be traded.")]),e._v(" "),s("h3",{attrs:{id:"accountmanagerinfo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#accountmanagerinfo","aria-hidden":"true"}},[e._v("#")]),e._v(" accountManagerInfo()")]),e._v(" "),s("p",[e._v("This function should return the information that will be used to build an account manager.\nSee "),s("a",{attrs:{href:"Account-Manager"}},[e._v("Account Manager")]),e._v(" for more information.")]),e._v(" "),s("h3",{attrs:{id:"showorderdialog-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#showorderdialog-order","aria-hidden":"true"}},[e._v("#")]),e._v(" showOrderDialog("),s("a",{attrs:{href:"Trading-Objects-and-Constants#order"}},[e._v("order")]),e._v(")")]),e._v(" "),s("p",[e._v("This function is requested by the chart when a user creates or modifies an order.")]),e._v(" "),s("p",[e._v("You have the ability to use your own dialog and manage it as you see fit.")]),e._v(" "),s("h3",{attrs:{id:"placeorder-order-silently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#placeorder-order-silently","aria-hidden":"true"}},[e._v("#")]),e._v(" placeOrder("),s("a",{attrs:{href:"Trading-Objects-and-Constants#order"}},[e._v("order")]),e._v(", silently)")]),e._v(" "),s("p",[e._v("Method is requested when a user wants to place an order. Order is pre-filled with partial or complete information.")]),e._v(" "),s("p",[e._v("If "),s("code",[e._v("silently")]),e._v(" is "),s("code",[e._v("true")]),e._v(" no order dialog should be shown.")]),e._v(" "),s("h3",{attrs:{id:"modifyorder-order-silently-focus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modifyorder-order-silently-focus","aria-hidden":"true"}},[e._v("#")]),e._v(" modifyOrder("),s("a",{attrs:{href:"Trading-Objects-and-Constants#order"}},[e._v("order")]),e._v(", silently, focus)")]),e._v(" "),s("ol",[s("li",[s("code",[e._v("order")]),e._v(" is an order object to modify")]),e._v(" "),s("li",[s("code",[e._v("silently")]),e._v(" - if it is "),s("code",[e._v("true")]),e._v(" no order dialog should be shown")]),e._v(" "),s("li",[s("code",[e._v("focus")]),e._v(" - "),s("a",{attrs:{href:"Trading-Objects-and-Constants#orderticketfocuscontrol"}},[e._v("OrderTicketFocusControl constants")]),e._v(". It can be already initialized by the chart.")])]),e._v(" "),s("p",[e._v("Method is requested when a user wants to modify an existing order.")]),e._v(" "),s("h3",{attrs:{id:"cancelorder-orderid-silently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cancelorder-orderid-silently","aria-hidden":"true"}},[e._v("#")]),e._v(" cancelOrder(orderId, silently)")]),e._v(" "),s("p",[e._v("This method is requested to cancel a single order with a given "),s("code",[e._v("id")]),e._v(".")]),e._v(" "),s("p",[e._v("If "),s("code",[e._v("silently")]),e._v(" is "),s("code",[e._v("true")]),e._v(" no dialogs should be shown.")]),e._v(" "),s("h3",{attrs:{id:"cancelorders-symbol-side-ordersids-silently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cancelorders-symbol-side-ordersids-silently","aria-hidden":"true"}},[e._v("#")]),e._v(" cancelOrders(symbol, side, ordersIds, silently)")]),e._v(" "),s("ol",[s("li",[s("code",[e._v("symbol")]),e._v(" - symbol string")]),e._v(" "),s("li",[s("code",[e._v("side")]),e._v(": "),s("a",{attrs:{href:"Trading-Objects-and-Constants#side"}},[e._v("Side constant")]),e._v(" or "),s("code",[e._v("undefined")])]),e._v(" "),s("li",[s("code",[e._v("ordersIds")]),e._v(" - ids already collected by "),s("code",[e._v("symbol")]),e._v(" and "),s("code",[e._v("side")])])]),e._v(" "),s("p",[e._v("If "),s("code",[e._v("silently")]),e._v(" is "),s("code",[e._v("true")]),e._v(" no dialogs should be shown.")]),e._v(" "),s("p",[e._v("This method is requested to cancel multiple orders for a "),s("code",[e._v("symbol")]),e._v(" and "),s("code",[e._v("side")]),e._v(".")]),e._v(" "),s("h3",{attrs:{id:"editpositionbrackets-positionid-focus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#editpositionbrackets-positionid-focus","aria-hidden":"true"}},[e._v("#")]),e._v(" editPositionBrackets(positionId, focus)")]),e._v(" "),s("ol",[s("li",[s("code",[e._v("positionId")]),e._v(" is an ID of an existing position to be modified")]),e._v(" "),s("li",[s("code",[e._v("focus")]),e._v(" - "),s("a",{attrs:{href:"Trading-Objects-and-Constants#orderticketfocuscontrol"}},[e._v("Focus constant")]),e._v(".")])]),e._v(" "),s("p",[e._v("This method is requested if "),s("code",[e._v("supportPositionBrackets")]),e._v(" configuration flag is on. It shows a dialog that enables take profit and stop loss editing.")]),e._v(" "),s("h3",{attrs:{id:"closeposition-positionid-silently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#closeposition-positionid-silently","aria-hidden":"true"}},[e._v("#")]),e._v(" closePosition(positionId, silently)")]),e._v(" "),s("p",[e._v("This method is requested if "),s("code",[e._v("supportClosePosition")]),e._v(" configuration flag is on. It allows to close the position by id.\nIf "),s("code",[e._v("silently")]),e._v(" is "),s("code",[e._v("true")]),e._v(" no dialogs should be shown.")]),e._v(" "),s("h3",{attrs:{id:"reverseposition-positionid-silently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reverseposition-positionid-silently","aria-hidden":"true"}},[e._v("#")]),e._v(" reversePosition(positionId, silently)")]),e._v(" "),s("p",[e._v("This method is requested if "),s("code",[e._v("supportReversePosition")]),e._v(" configuration flag is on. It allows to reverse the position by id.\nIf "),s("code",[e._v("silently")]),e._v(" is "),s("code",[e._v("true")]),e._v(" no dialogs should be shown.")]),e._v(" "),s("h3",{attrs:{id:"edittradebrackets-tradeid-focus"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#edittradebrackets-tradeid-focus","aria-hidden":"true"}},[e._v("#")]),e._v(" editTradeBrackets(tradeId, focus)")]),e._v(" "),s("ol",[s("li",[s("code",[e._v("tradeId")]),e._v(" is ID of existing trade to be modified")]),e._v(" "),s("li",[s("code",[e._v("focus")]),e._v(" - "),s("a",{attrs:{href:"Trading-Objects-and-Constants#orderticketfocuscontrol"}},[e._v("Focus constant")]),e._v(".")])]),e._v(" "),s("p",[e._v("This method is requested if "),s("code",[e._v("supportTradeBrackets")]),e._v(" configuration flag is on. It displays a dialog that enables take profit and stop loss editing.")]),e._v(" "),s("h3",{attrs:{id:"closetrade-tradeid-silently"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#closetrade-tradeid-silently","aria-hidden":"true"}},[e._v("#")]),e._v(" closeTrade(tradeId, silently)")]),e._v(" "),s("p",[e._v("This method is requested if "),s("code",[e._v("supportCloseTrade")]),e._v(" configuration flag is on. It allows to close the trade by id.")]),e._v(" "),s("p",[e._v("If "),s("code",[e._v("silently")]),e._v(" is "),s("code",[e._v("true")]),e._v(" no dialogs should be shown.")]),e._v(" "),s("h3",{attrs:{id:"symbolinfo-symbol-deferred-or-promise"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#symbolinfo-symbol-deferred-or-promise","aria-hidden":"true"}},[e._v("#")]),e._v(" symbolInfo(symbol) : Deferred (or Promise)")]),e._v(" "),s("ol",[s("li",[s("code",[e._v("symbol")]),e._v(" - symbol string")])]),e._v(" "),s("p",[e._v("This method is requested by the internal Order Dialog, DOM panel and floating trading panel to get symbol information.")]),e._v(" "),s("p",[e._v("The result is an object with the following data:")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("qty")]),e._v(" - object with fields "),s("code",[e._v("min")]),e._v(", "),s("code",[e._v("max")]),e._v(" and "),s("code",[e._v("step")]),e._v(" that specifies Quantity, field step and boundaries.")]),e._v(" "),s("li",[s("code",[e._v("pipSize")]),e._v(" - size of 1 pip (e.g., 0.0001 for EURUSD)")]),e._v(" "),s("li",[s("code",[e._v("pipValue")]),e._v(" - values of 1 pip in account currency (e.g., 1 for EURUSD for an account in USD)")]),e._v(" "),s("li",[s("code",[e._v("minTick")]),e._v(" - minimal price change (e.g., 0.00001 for EURUSD). Used for price fields.")]),e._v(" "),s("li",[s("code",[e._v("description")]),e._v(" - a description to be displayed in the dialog")]),e._v(" "),s("li",[s("code",[e._v("type")]),e._v(" - instrument type, only "),s("code",[e._v("forex")]),e._v(" matters - it enables negative pips. You can check that in the order dialog")]),e._v(" "),s("li",[s("code",[e._v("domVolumePrecision")]),e._v(" - number of decimal places of DOM asks/bids volume (optional, 0 by default)")])]),e._v(" "),s("h3",{attrs:{id:"accountinfo-deferred-or-promise"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#accountinfo-deferred-or-promise","aria-hidden":"true"}},[e._v("#")]),e._v(" accountInfo() : Deferred (or Promise)")]),e._v(" "),s("p",[e._v("This method is requested by the internal Order Dialog to get the account information.\nIt should return only one field for now:")]),e._v(" "),s("ol",[s("li",[e._v("currencySign: string - which is a sign of account currency")])]),e._v(" "),s("p",[e._v("Once this method is called the broker should stop providing profit/loss.")]),e._v(" "),s("h3",{attrs:{id:"subscribeequity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#subscribeequity","aria-hidden":"true"}},[e._v("#")]),e._v(" subscribeEquity()")]),e._v(" "),s("p",[e._v("The method should be implemented if you use a standard order dialog and support stop loss.")]),e._v(" "),s("p",[e._v("Once this method is called the broker should provide equity updates via "),s("a",{attrs:{href:"Trading-Host#equityupdateequity"}},[e._v("equityUpdate")]),e._v(" method.")]),e._v(" "),s("h3",{attrs:{id:"unsubscribeequity"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unsubscribeequity","aria-hidden":"true"}},[e._v("#")]),e._v(" unsubscribeEquity()")]),e._v(" "),s("p",[e._v("The method should be implemented if you use a standard order dialog and support stop loss.")]),e._v(" "),s("p",[e._v("Once this method is called the broker should stop providing equity updates.")]),e._v(" "),s("h2",{attrs:{id:"see-also"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#see-also","aria-hidden":"true"}},[e._v("#")]),e._v(" See Also")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"Widget-Constructor#brokerfactory"}},[e._v("How to connect")]),e._v(" your trading controller to the chart")]),e._v(" "),s("li",[s("a",{attrs:{href:"Trading-Host"}},[e._v("Trading Host")])])])])}],!1,null,null,null);r.options.__file="Broker-API.md";t.default=r.exports}}]);