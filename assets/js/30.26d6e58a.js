(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{238:function(e,t,a){"use strict";a.r(t);var r=a(0),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("p",[e._v("The Charting Library supports saving/loading charts and study templates using 2 levels of API:")]),e._v(" "),a("ol",[e._m(0),e._v(" "),a("li",[a("p",[a("strong",[e._v("High-Level")]),e._v(": Charting Library is able to save / load charts and study templates from the storage that you'll point it to.\nWe created a tiny storage sample with Python and PostgreSQL that can be found in "),a("a",{attrs:{href:"https://github.com/tradingview/saveload_backend",target:"_blank",rel:"noopener noreferrer"}},[e._v("our GitHub"),a("OutboundLink")],1),e._v(".\nYou can use it and run on your own server so that you'll be able to have control over all your users' saved data.")])])]),e._v(" "),e._m(1),e._v(" "),a("p",[e._v("Here are a few steps for those who want to have their own chart storage:")]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),a("p",[e._v("RESPONSE: JSON Object")]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),a("p",[e._v("RESPONSE: JSON Object")]),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),a("p",[e._v("RESPONSE: JSON Object")]),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),a("p",[e._v("RESPONSE: JSON Object")]),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),a("p",[e._v("RESPONSE: JSON Object")]),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),a("p",[e._v("We're running a demo chart storage service to let you save/load charts as soon as you build your Charting Library.\nHere is the link "),a("a",{attrs:{href:"http://saveload.tradingview.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://saveload.tradingview.com"),a("OutboundLink")],1),e._v(". Note that it's provided as-is since it's a demo.")]),e._v(" "),a("p",[e._v("We do not guarantee its stability. Also, note that we delete the data in the storage on a regular basis.")]),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),a("p",[e._v("Here are a few examples:")]),e._v(" "),e._m(27)])},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("p",[a("strong",[e._v("Low-Level")]),e._v(": save/load functionality is enabled by widget's "),a("code",[e._v("save()")]),e._v(" / "),a("code",[e._v("load()")]),e._v(" "),a("a",{attrs:{href:"Widget-Methods#savecallback"}},[e._v("methods")]),e._v(" and "),a("code",[e._v("createStudyTemplate()")]),e._v(" / "),a("code",[e._v("applyStudyTemplate()")]),e._v(" "),a("a",{attrs:{href:"Chart-Methods#createstudytemplateoptions"}},[e._v("methods")]),e._v(".\nOne should take of the storage on the server.\nYou are able to save the JSONs where you wish. For example, you may embed them to your saved pages or user's working area etc.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"using-high-level-save-load"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-high-level-save-load","aria-hidden":"true"}},[this._v("#")]),this._v(" Using High-Level Save/Load")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[e._v("Clone our repository to your host")]),e._v(" "),a("li",[e._v("Run the data service or use our demo service. Here is a short to-do list for anyone who is not familiar with Django.\n"),a("ol",[a("li",[e._v("Install Python 3.x and Pip.")]),e._v(" "),a("li",[e._v("Install PostgreSQL or some other Django-friendly database engine.")]),e._v(" "),a("li",[e._v("Go to you chart storage folder and run "),a("code",[e._v("pip install -r requirements.txt")])]),e._v(" "),a("li",[e._v("Go to charting_library_charts folder and set up your database connection in settings.py (see "),a("code",[e._v("DATABASES")]),e._v(" @ line #12). Please remember to create the appropriate database in your PostgreSQL.")]),e._v(" "),a("li",[e._v("Run "),a("code",[e._v("python manage.py migrate")]),e._v(" . This will create the database schema without any data.")]),e._v(" "),a("li",[e._v("Run "),a("code",[e._v("python manage.py runserver")]),e._v(" to run a TEST instance of your database. Don't use the command above in production environment. Use some other program (i.e., Gunicorn).")])])]),e._v(" "),a("li",[e._v("Set up your Charting Library page: set "),a("code",[e._v("charts_storage_url = url-of-your-charts-storage")]),e._v(", also set "),a("code",[e._v("client_id")]),e._v(" and "),a("code",[e._v("user_id")]),e._v(" (see details below) in the widget constructor.")]),e._v(" "),a("li",[e._v("Enjoy!")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Remark")]),this._v(": Manual database filling/editing is not the intended usage. Please avoid doing this as you you may hurt the Django infrastructure.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"developing-your-own-backend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#developing-your-own-backend","aria-hidden":"true"}},[this._v("#")]),this._v(" Developing your own backend")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[e._v("Charting Library sends HTTP/HTTPS commands to "),a("code",[e._v("charts_storage_url/charts_storage_api_version/charts?client=client_id&user=user_id")]),e._v(". "),a("code",[e._v("charts_storage_url")]),e._v(", "),a("code",[e._v("charts_storage_api_version")]),e._v(", "),a("code",[e._v("client_id")]),e._v(" and "),a("code",[e._v("user_id")]),e._v(" are the arguments of the "),a("a",{attrs:{href:"Widget-Constructor"}},[e._v("widget constructor")]),e._v(".")]),e._v(" "),a("li",[e._v("You should implement the processing of 4 requests: save chart / load chart / delete chart / list charts.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"list-charts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#list-charts","aria-hidden":"true"}},[this._v("#")]),this._v(" LIST CHARTS")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("GET REQUEST: "),t("code",[this._v("charts_storage_url/charts_storage_api_version/charts?client=client_id&user=user_id")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[a("code",[e._v("status")]),e._v(": "),a("code",[e._v("ok")]),e._v(" or "),a("code",[e._v("error")])]),e._v(" "),a("li",[a("code",[e._v("data")]),e._v(": Array of Objects\n"),a("ol",[a("li",[a("code",[e._v("timestamp")]),e._v(": UNIX time when the chart was saved (example, "),a("code",[e._v("144908432")]),e._v("1)")]),e._v(" "),a("li",[a("code",[e._v("symbol")]),e._v(": base symbol of the chart (example, "),a("code",[e._v("AA")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("resolution")]),e._v(": resolution of the chart (example, "),a("code",[e._v("D")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("id")]),e._v(": unique integer identifier of the chart (example, "),a("code",[e._v("9163")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("name")]),e._v(": chart name (example, "),a("code",[e._v("Test")]),e._v(")")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"save-chart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#save-chart","aria-hidden":"true"}},[this._v("#")]),this._v(" SAVE CHART")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("POST REQUEST: "),t("code",[this._v("charts_storage_url/charts_storage_api_version/charts?client=client_id&user=user_id")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[a("code",[e._v("name")]),e._v(": name of the chart")]),e._v(" "),a("li",[a("code",[e._v("content")]),e._v(": content of the chart")]),e._v(" "),a("li",[a("code",[e._v("symbol")]),e._v(": chart symbol (example, "),a("code",[e._v("AA")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("resolution")]),e._v(": chart resolution (example, "),a("code",[e._v("D")]),e._v(")")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[a("code",[e._v("status")]),e._v(": "),a("code",[e._v("ok")]),e._v(" or "),a("code",[e._v("error")])]),e._v(" "),a("li",[a("code",[e._v("id")]),e._v(": unique integer identifier of the chart (example, "),a("code",[e._v("9163")]),e._v(")")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"save-as-chart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#save-as-chart","aria-hidden":"true"}},[this._v("#")]),this._v(" SAVE AS CHART")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("POST REQUEST: "),t("code",[this._v("charts_storage_url/charts_storage_api_version/charts?client=client_id&user=user_id&chart=chart_id")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[a("code",[e._v("name")]),e._v(": name of the chart")]),e._v(" "),a("li",[a("code",[e._v("content")]),e._v(": content of the chart")]),e._v(" "),a("li",[a("code",[e._v("symbol")]),e._v(": chart symbol (example, "),a("code",[e._v("AA")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("resolution")]),e._v(": chart resolution (example, "),a("code",[e._v("D")]),e._v(")")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[t("code",[this._v("status")]),this._v(": "),t("code",[this._v("ok")]),this._v(" or "),t("code",[this._v("error")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"load-chart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#load-chart","aria-hidden":"true"}},[this._v("#")]),this._v(" LOAD CHART")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("GET REQUEST: "),t("code",[this._v("charts_storage_url/charts_storage_api_version/charts?client=client_id&user=user_id&chart=chart_id")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[a("code",[e._v("status")]),e._v(": "),a("code",[e._v("ok")]),e._v(" or "),a("code",[e._v("error")])]),e._v(" "),a("li",[a("code",[e._v("data")]),e._v(": Object\n"),a("ol",[a("li",[a("code",[e._v("content")]),e._v(": saved content of the chart")]),e._v(" "),a("li",[a("code",[e._v("timestamp")]),e._v(": UNIX time when the chart was saved (example, "),a("code",[e._v("1449084321")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("id")]),e._v(": unique integer identifier of the chart (example, "),a("code",[e._v("9163")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("name")]),e._v(": name of the chart")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"delete-chart"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-chart","aria-hidden":"true"}},[this._v("#")]),this._v(" DELETE CHART")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("DELETE REQUEST: "),t("code",[this._v("charts_storage_url/charts_storage_api_version/charts?client=client_id&user=user_id&chart=chart_id")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[t("code",[this._v("status")]),this._v(": "),t("code",[this._v("ok")]),this._v(" or "),t("code",[this._v("error")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"using-demo-charts-and-study-templates-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-demo-charts-and-study-templates-storage","aria-hidden":"true"}},[this._v("#")]),this._v(" Using Demo Charts and Study Templates Storage")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"managing-access-to-saved-charts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#managing-access-to-saved-charts","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing Access to Saved Charts")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("You are responsible for the charts that your users are able to see and load.\nA user can see/load charts that have the same "),a("code",[e._v("client_id")]),e._v(" and "),a("code",[e._v("user_id")]),e._v(" that the user has.\n"),a("code",[e._v("client_id")]),e._v(" is an identifier of user's group.\nThe intended use is when you have a few groups of users or when you have a few sites that use the same chart storage.\nSo the common practice is to set "),a("code",[e._v("client_id = your-site's-URL")]),e._v(". It's up to you to decide.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("user_id")]),this._v(" is a unique identifier of a user. Users ID belongs to a particular "),t("code",[this._v("client_id")]),this._v(" group.\nYou can either set it for each user individually (private storage for each user) or set it for all users or user groups (public storage).")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",[a("thead",[a("tr",[a("th",[a("code",[e._v("client_id")])]),e._v(" "),a("th",[a("code",[e._v("user_id")])]),e._v(" "),a("th",[e._v("Effect")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Your site URL or other link")]),e._v(" "),a("td",[e._v("Unique user ID")]),e._v(" "),a("td",[e._v("Each user has a private chart storage that other users can't see.")])]),e._v(" "),a("tr",[a("td",[e._v("Your site URL or other link")]),e._v(" "),a("td",[e._v("The same value for all users")]),e._v(" "),a("td",[e._v("Each user can see and load any saved chart.")])]),e._v(" "),a("tr",[a("td",[e._v("Your site URL or other link")]),e._v(" "),a("td",[e._v("Unique user ID for registered users along with a separate setting for anonymous users")]),e._v(" "),a("td",[e._v("Each registered user has a private chart storage that other users can't see. All anonymous users share a single storage.")])])])])}],!1,null,null,null);s.options.__file="Saving-and-Loading-Charts.md";t.default=s.exports}}]);