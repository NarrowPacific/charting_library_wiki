<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Charting Library</title>
    <meta name="description" content="TradingView 中文文档 教程">
    
    
    <link rel="preload" href="/charting_library_wiki/assets/css/0.styles.54154195.css" as="style"><link rel="preload" href="/charting_library_wiki/assets/js/app.e5b750fa.js" as="script"><link rel="preload" href="/charting_library_wiki/assets/js/89.072874a9.js" as="script"><link rel="prefetch" href="/charting_library_wiki/assets/js/45.77fdc049.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/3.9a9210e8.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/4.3025f96f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/5.2e481db8.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/6.692643df.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/7.d6c7c61a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/8.ff0f9bbb.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/9.929a30eb.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/10.b9ac493c.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/11.67531abf.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/12.95004755.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/13.5f8b090e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/14.61d2b640.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/15.7019d5c6.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/16.f84bac21.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/17.33bbeaad.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/18.faed2cc9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/19.eabedd50.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/20.ec41bf98.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/21.e3cda3cb.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/22.75f47b08.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/23.9caf12e7.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/24.9cb52b13.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/25.1ee74391.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/26.23e99a27.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/27.96114175.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/28.c39e9894.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/29.e65ce808.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/30.26d6e58a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/31.1309fa0e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/32.f140b54d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/33.ab7de8c2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/34.497847f4.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/35.ff0d5d4e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/36.510643a4.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/37.ea794330.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/38.c805a15f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/39.dcd0c595.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/40.048441b9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/41.e8f5ac87.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/42.80345ee9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/43.810157de.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/44.ee1eb15d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/46.f3975c58.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/47.e2ed9389.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/48.aa18db6f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/49.6517b828.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/50.aa45c418.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/51.34038e3a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/52.d1e1248d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/53.15f51e33.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/54.b3f35d36.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/55.b3a53b32.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/56.18e47f02.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/57.7107fce6.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/58.fde0151b.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/59.d1cf9754.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/60.79173131.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/61.5e3a4ac2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/62.e4e6e728.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/63.ff9aea40.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/64.4f66dc8f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/65.3b5a4286.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/66.a6f5bbdf.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/67.aff444b7.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/68.c79aa96f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/69.2f04baac.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/70.b0d52396.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/71.148f19aa.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/72.b9e446e2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/73.ef903171.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/74.d343d04d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/75.19ae215d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/76.51b0e0e4.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/77.6279f2f3.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/78.b96dc129.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/79.039f3470.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/80.f6138705.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/81.cce9bb97.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/82.f6415b45.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/83.d375e2c5.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/84.a50f5549.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/85.de85aa80.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/86.9f650c9e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/87.d9b6ad2a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/88.a371aca2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/90.fababa10.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/91.cd19e4f3.js">
    <link rel="stylesheet" href="/charting_library_wiki/assets/css/0.styles.54154195.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/charting_library_wiki/zh/" class="home-link router-link-active"><!----> <span class="site-name">Charting Library</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/charting_library_wiki/wiki/Widget-Constructor.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/charting_library_wiki/wiki/Widget-Constructor.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/charting_library_wiki/zh/wiki/Home.html" class="sidebar-link">Charting Library 是什么</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>现在开始</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/zh/wiki/Package-Content.html" class="sidebar-link">文件包内容</a></li><li><a href="/charting_library_wiki/zh/wiki/Running-Your-Charting-Library.html" class="sidebar-link">运行图表库</a></li><li><a href="/charting_library_wiki/zh/wiki/Best-Practices.html" class="sidebar-link">最佳实践</a></li><li><a href="/charting_library_wiki/zh/wiki/Frequently-Asked-Questions.html" class="sidebar-link">常见问题</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>绑定数据</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/zh/wiki/How-To-Connect-My-Data.html" class="sidebar-link">如何连接我的数据</a></li><li><a href="/charting_library_wiki/zh/wiki/JS-Api.html" class="sidebar-link">JS Api</a></li><li><a href="/charting_library_wiki/zh/wiki/UDF.html" class="sidebar-link">UDF</a></li><li><a href="/charting_library_wiki/zh/wiki/Symbology.html" class="sidebar-link">Symbology</a></li><li><a href="/charting_library_wiki/zh/wiki/Trading-Sessions.html" class="sidebar-link">Trading Sessions</a></li><li><a href="/charting_library_wiki/zh/wiki/Quotes.html" class="sidebar-link">Quotes</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>图表定制</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/zh/wiki/Customization-Overview.html" class="sidebar-link">Customization Overview</a></li><li><a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html" class="active sidebar-link">a. Widget Constructor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html#trading-terminal-only" class="sidebar-link">Trading Terminal only</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html#see-also" class="sidebar-link">See Also</a></li></ul></li><li><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html" class="sidebar-link">b. Widget Methods</a></li><li><a href="/charting_library_wiki/zh/wiki/Chart-Methods.html" class="sidebar-link">c. Chart Methods</a></li><li><a href="/charting_library_wiki/zh/wiki/Featuresets.html" class="sidebar-link">d. Featuresets</a></li><li><a href="/charting_library_wiki/zh/wiki/Customization-Overview.html#customization-done-through-data-stream" class="sidebar-link">服务器端定制</a></li><li><a href="/charting_library_wiki/zh/wiki/Customization-Use-Cases.html" class="sidebar-link">定制用例</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Trading Terminal</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/wiki/Trading-Terminal.html" class="sidebar-link">1. Brief Intro</a></li><li><a href="/charting_library_wiki/wiki/Broker-API.html" class="sidebar-link">2. Broker API</a></li><li><a href="/charting_library_wiki/wiki/Trading-Host.html" class="sidebar-link">3. Trading Host</a></li><li><a href="/charting_library_wiki/wiki/Account-Manager.html" class="sidebar-link">4. Account Manager</a></li><li><a href="/charting_library_wiki/wiki/Trading-Objects-and-Constants.html" class="sidebar-link"> 5.Trading Objects and Constants</a></li><li><a href="/charting_library_wiki/wiki/Saving-and-Loading-Charts.html" class="sidebar-link">Saving/Loading Charts</a></li><li><a href="/charting_library_wiki/wiki/Creating-Custom-Studies.html" class="sidebar-link">Creating Custom Studies</a></li><li><a href="/charting_library_wiki/wiki/Breaking-Changes.html" class="sidebar-link">Breaking Changes In Version</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><p>You may specify Charting library widget parameters when calling its constructor. Here is an example of a call.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">TradingView<span class="token punctuation">.</span>widget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    symbol<span class="token punctuation">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>
    interval<span class="token punctuation">:</span> <span class="token string">'D'</span><span class="token punctuation">,</span>
    timezone<span class="token punctuation">:</span> <span class="token string">&quot;America/New_York&quot;</span><span class="token punctuation">,</span>
    container_id<span class="token punctuation">:</span> <span class="token string">&quot;tv_chart_container&quot;</span><span class="token punctuation">,</span>
    locale<span class="token punctuation">:</span> <span class="token string">&quot;ru&quot;</span><span class="token punctuation">,</span>
    datafeed<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Datafeeds<span class="token punctuation">.</span>UDFCompatibleDatafeed</span><span class="token punctuation">(</span><span class="token string">&quot;https://demo_feed.tradingview.com&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Below is a complete list of supported parameters. Note that you can't change the parameters once the Charting Library is created. Use <a href="Widget-Methods">Widget methods</a> if you wish to modify the parameters after the creation of the Charting Library.</p> <h3 id="symbol-interval"><a href="#symbol-interval" aria-hidden="true" class="header-anchor">#</a> symbol, interval</h3> <p>The default symbol &amp; time interval of your chart. The <code>interval</code> value is described in the <a href="Resolution">Section</a>. <em>Mandatory</em></p> <h3 id="timeframe"><a href="#timeframe" aria-hidden="true" class="header-anchor">#</a> timeframe</h3> <p>Sets the default timeframe of the chart. Timeframe is a period of bars that will be loaded and shown on the screen.
Valid timeframe is a number with a letter D for days and M for months.</p> <h3 id="container-id"><a href="#container-id" aria-hidden="true" class="header-anchor">#</a> container_id</h3> <p><code>id</code> is an attribute of a DOM element that you wish to include in the widget. <em>Mandatory</em></p> <h3 id="datafeed"><a href="#datafeed" aria-hidden="true" class="header-anchor">#</a> datafeed</h3> <p>JavaScript object that implements the (<a href="JS-Api">JS API</a>) interface to supply the chart with data. <em>Mandatory</em></p> <h3 id="timezone"><a href="#timezone" aria-hidden="true" class="header-anchor">#</a> timezone</h3> <p>Default timezone of the chart. The time on the timescale is displayed according to this timezone.
See the <a href="Symbology#timezone">list of supported timezones</a> for available values. Set it to <code>exchange</code> to use the exchange timezone. Use the <a href="#overrides">overrides</a> section if you wish to override the default value.</p> <h3 id="debug"><a href="#debug" aria-hidden="true" class="header-anchor">#</a> debug</h3> <p>Setting this property to <code>true</code> will make the chart write detailed API logs into the browser console. Alternatively, you can use the <code>charting_library_debug_mode</code> featureset to enable it.</p> <h3 id="library-path"><a href="#library-path" aria-hidden="true" class="header-anchor">#</a> library_path</h3> <p>A path to a <code>static</code> folder.</p> <h3 id="width-height"><a href="#width-height" aria-hidden="true" class="header-anchor">#</a> width, height</h3> <p>The desired size of a widget. Please make sure that there is enough space for the widget to be displayed correctly.</p> <p><strong>Remark</strong>: If you want the chart to use all the available space use the <code>fullscreen</code> parameter instead of setting it to '100%'.</p> <h3 id="fullscreen"><a href="#fullscreen" aria-hidden="true" class="header-anchor">#</a> fullscreen</h3> <p><em>Default:</em> <code>false</code></p> <p>Boolean value showing whether the chart should use all the available space in the window.</p> <h3 id="autosize"><a href="#autosize" aria-hidden="true" class="header-anchor">#</a> autosize</h3> <p><em>Default:</em> <code>false</code></p> <p>Boolean value showing whether the chart should use all the available space in the container and resize when the container itself is resized.</p> <h3 id="symbol-search-request-delay"><a href="#symbol-search-request-delay" aria-hidden="true" class="header-anchor">#</a> symbol_search_request_delay</h3> <p>A threshold delay in milliseconds that is used to reduce the number of symbol search requests when the user is typing a name of a symbol in the search box.</p> <h3 id="auto-save-delay"><a href="#auto-save-delay" aria-hidden="true" class="header-anchor">#</a> auto_save_delay</h3> <p>A threshold delay in seconds that is used to reduce the number of <code>onAutoSaveNeeded</code> calls.</p> <h3 id="toolbar-bg"><a href="#toolbar-bg" aria-hidden="true" class="header-anchor">#</a> toolbar_bg</h3> <p>Background color of the toolbars.</p> <h3 id="study-count-limit"><a href="#study-count-limit" aria-hidden="true" class="header-anchor">#</a> study_count_limit</h3> <p><em>Starting from version 1.5.</em></p> <p>Maximum amount of studies on the chart of a multichart layout. Minimum value is 2.</p> <h3 id="studies-access"><a href="#studies-access" aria-hidden="true" class="header-anchor">#</a> studies_access</h3> <p><em>Starting from version 1.1.</em></p> <p>An object with the following structure:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    type<span class="token punctuation">:</span> <span class="token string">&quot;black&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;white&quot;</span><span class="token punctuation">,</span>
    tools<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">&quot;&lt;study name&gt;&quot;</span><span class="token punctuation">,</span>
            grayed<span class="token punctuation">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token operator">&lt;</span> <span class="token operator">...</span> <span class="token operator">&gt;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>type</code> is the list type. Supported values are: <code>black</code> (all listed items should be disabled), <code>white</code> (only the listed items should be enabled).</li> <li><code>tools</code> is an array of objects. Each object could have the following properties:
<ul><li><code>name</code> (<em>Mandatory</em>) is the name of a study. Use the same names as in the pop-ups of indicators.</li> <li><code>grayed</code> is a boolean showing whether this study should be visible but look as if it's disabled. If the study is grayed out and user clicks it, then the <code>onGrayedObjectClicked</code> function is called.</li></ul></li></ul> <h3 id="drawings-access"><a href="#drawings-access" aria-hidden="true" class="header-anchor">#</a> drawings_access</h3> <p><em>Starting from version 1.1.</em></p> <p>This property has the same structure as the <code>studies_access</code>argument that is described above. Use the same names as you see in the UI.</p> <p><strong>Remark</strong>: There is a special case for font-based drawings. Use the &quot;Font Icons&quot; name for them. Those drawings cannot be enabled or disabled separately - the entire group will have to be either enabled or disabled.</p> <h3 id="saved-data"><a href="#saved-data" aria-hidden="true" class="header-anchor">#</a> saved_data</h3> <p>JS object containing saved chart content. Use this parameter when creating the widget if you have a saved chart already. If you want to load the chart content when the chart is initialized then use <a href="https://github.com/tradingview/charting_library/wiki/Widget-Methods#loadstate" target="_blank" rel="noopener noreferrer">load() method<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> of the widget.</p> <h3 id="locale"><a href="#locale" aria-hidden="true" class="header-anchor">#</a> locale</h3> <p>Locale to be used by Charting Library. See <a href="Localization">Localization</a> section for details.</p> <h3 id="numeric-formatting"><a href="#numeric-formatting" aria-hidden="true" class="header-anchor">#</a> numeric_formatting</h3> <p>The object containing formatting options for numbers. The only possible option is <code>decimal_sign</code> currently.
Example: <code>numeric_formatting: { decimal_sign: &quot;,&quot; }</code></p> <h3 id="customformatters"><a href="#customformatters" aria-hidden="true" class="header-anchor">#</a> customFormatters</h3> <p>It is an object that contains the following fields:</p> <ol><li>timeFormatter</li> <li>dateFormatter</li></ol> <p>You can use these formatters to adjust the display format of the date and time values.
Both values are objects that include functions such as <code>format</code> and <code>formatLocal</code>:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">formatLocal</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>
</code></pre></div><p>These functions should return the text that specifies date or time. <code>formatLocal</code> should convert date and time to local timezone.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>customFormatters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  timeFormatter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    format<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> _format_str <span class="token operator">=</span> <span class="token string">'%h:%m'</span><span class="token punctuation">;</span> <span class="token keyword">return</span> _format_str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'%h'</span><span class="token punctuation">,</span> date<span class="token punctuation">.</span><span class="token function">getUTCHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'%m'</span><span class="token punctuation">,</span> date<span class="token punctuation">.</span><span class="token function">getUTCMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'%s'</span><span class="token punctuation">,</span> date<span class="token punctuation">.</span><span class="token function">getUTCSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  dateFormatter<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    format<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">getUTCFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getUTCMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getUTCDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="overrides"><a href="#overrides" aria-hidden="true" class="header-anchor">#</a> overrides</h3> <p>The object that contains new values for default widget properties.
You can override most of the Charting Library properties (which also may be edited by user through UI) using <code>overrides</code> parameter of Widget constructor. <code>overrides</code> is supposed to be an object. The keys of this object are the names of overridden properties. The values of these keys are the new values of the properties. Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>overrides<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;symbolWatermarkProperties.color&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;rgba(0, 0, 0, 0)&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This code will make the watermark 100% opaque (invisible). All customizable properties are listed in <a href="Overrides">separate article</a>. You can use <a href="Drawings-Overrides">Drawings-Overrides</a> starting from v 1.5.</p> <h3 id="disabled-features-enabled-features"><a href="#disabled-features-enabled-features" aria-hidden="true" class="header-anchor">#</a> disabled_features, enabled_features</h3> <p>The array containing names of features that should be enabled/disabled by default. <code>Feature</code> means part of the functionality of the chart (part of the UI/UX). Supported features are listed <a href="Featuresets">here</a>.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>TradingView<span class="token punctuation">.</span><span class="token function">onready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">var</span> widget <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TradingView<span class="token punctuation">.</span>widget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">/* .... */</span>
        disabled_features<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;header_widget&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;left_toolbar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        enabled_features<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;move_logo_to_main_pane&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="snapshot-url"><a href="#snapshot-url" aria-hidden="true" class="header-anchor">#</a> snapshot_url</h3> <p>This URL is used to send a POST request with base64-encoded chart snapshots when a user presses the snapshot button. This endpoint should return the full URL of the saved image in the the response.</p> <h3 id="indicators-file-name"><a href="#indicators-file-name" aria-hidden="true" class="header-anchor">#</a> indicators_file_name</h3> <p>Path to the file that contains your compiled indicators. See more details <a href="Creating-Custom-Studies">here</a>.</p> <h3 id="preset"><a href="#preset" aria-hidden="true" class="header-anchor">#</a> preset</h3> <p><code>preset</code> is a name of predefined widget settings. For now, the only value supported in the <code>preset</code> is  <code>mobile</code>. The example of this <code>preset</code> is <a href="https://demo_chart.tradingview.com/mobile_black.html" target="_blank" rel="noopener noreferrer">available here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="studies-overrides"><a href="#studies-overrides" aria-hidden="true" class="header-anchor">#</a> studies_overrides</h3> <p>Use this option to customize the style or inputs of the indicators. You can also customize the styles and inputs of the <code>Compare</code> series using this argument. See more details <a href="Studies-Overrides">here</a></p> <h3 id="time-frames"><a href="#time-frames" aria-hidden="true" class="header-anchor">#</a> time_frames</h3> <p>List of visible timeframes that can be selected at the bottom of the chart.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>time_frames<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;50y&quot;</span><span class="token punctuation">,</span> resolution<span class="token punctuation">:</span> <span class="token string">&quot;6M&quot;</span><span class="token punctuation">,</span> description<span class="token punctuation">:</span> <span class="token string">&quot;50 Years&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;3y&quot;</span><span class="token punctuation">,</span> resolution<span class="token punctuation">:</span> <span class="token string">&quot;W&quot;</span><span class="token punctuation">,</span> description<span class="token punctuation">:</span> <span class="token string">&quot;3 Years&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">&quot;3yr&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;8m&quot;</span><span class="token punctuation">,</span> resolution<span class="token punctuation">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> description<span class="token punctuation">:</span> <span class="token string">&quot;8 Month&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;3d&quot;</span><span class="token punctuation">,</span> resolution<span class="token punctuation">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span> description<span class="token punctuation">:</span> <span class="token string">&quot;3 Days&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;1000y&quot;</span><span class="token punctuation">,</span> resolution<span class="token punctuation">:</span> <span class="token string">&quot;W&quot;</span><span class="token punctuation">,</span> description<span class="token punctuation">:</span> <span class="token string">&quot;All&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">&quot;All&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>Timeframe is an object containing the <code>text</code> and <code>resolution</code> properties. The <code>text</code> property should have the following format: <code>&lt;integer&gt;&lt;y|m|d&gt;</code> ( \d+(y|m|d) as Regex ). Resolution is a string and its format is described here - <a href="Resolution">here</a>. See <a href="Time-Frames">this topic</a> to learn more about timeframes.</p> <p>The <code>description</code> property was added in v 1.7 and is displayed in the pop-up menu. This parameter is optional. If it isn't specified then the <code>title</code> or <code>text</code> property is used as a description.</p> <p>The <code>title</code> property was added in v 1.9 and its value will override the default title generated based on the <code>text</code> property. This parameter is optional.</p> <h3 id="charts-storage-url-client-id-user-id"><a href="#charts-storage-url-client-id-user-id" aria-hidden="true" class="header-anchor">#</a> charts_storage_url, client_id, user_id</h3> <p>These arguments are related to the high-level API for saving/loading the charts. See more details <a href="Saving-and-Loading-Charts">here</a>.</p> <h3 id="charts-storage-api-version"><a href="#charts-storage-api-version" aria-hidden="true" class="header-anchor">#</a> charts_storage_api_version</h3> <p>A version of your backend. Supported values are: <code>&quot;1.0&quot;</code> | <code>&quot;1.1&quot;</code>. Study Templates are supported starting from version <code>&quot;1.1&quot;</code>.</p> <h3 id="load-last-chart"><a href="#load-last-chart" aria-hidden="true" class="header-anchor">#</a> load_last_chart</h3> <p>Set this parameter to <code>true</code> if you want the library to load the last saved chart for a user (you should implement <a href="Saving-and-Loading-Charts">save/load</a> first to make it work).</p> <h3 id="theme"><a href="#theme" aria-hidden="true" class="header-anchor">#</a> theme</h3> <p><em>Starting from version 1.13.</em></p> <p>Adds custom theme color for the chart. Supported values are: <code>&quot;Light&quot;</code> | <code>&quot;Dark&quot;</code>.</p> <h3 id="custom-css-url"><a href="#custom-css-url" aria-hidden="true" class="header-anchor">#</a> custom_css_url</h3> <p><em>Starting from version 1.4.</em></p> <p>Adds your custom CSS to the chart. <code>url</code> should be an absolute or relative path to the <code>static</code> folder.</p> <h3 id="loading-screen"><a href="#loading-screen" aria-hidden="true" class="header-anchor">#</a> loading_screen</h3> <p><em>Starting from version 1.12.</em></p> <p>Customization of the loading spinner. Value is an object with the following possible keys:</p> <ul><li><code>backgroundColor</code></li> <li><code>foregroundColor</code></li></ul> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>loading_screen<span class="token punctuation">:</span> <span class="token punctuation">{</span> backgroundColor<span class="token punctuation">:</span> <span class="token string">&quot;#000000&quot;</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="favorites"><a href="#favorites" aria-hidden="true" class="header-anchor">#</a> favorites</h3> <p>Items that should be marked as favorite by default. This option requires that the usage of localstorage is disabled (see <a href="Featuresets">featuresets</a> to know more). The <code>favorites</code> property is supposed to be an object. The following properties are supported:</p> <ul><li><strong>intervals</strong>: an array of time intervals that are marked as favorite. Example: <code>[&quot;D&quot;, &quot;2D&quot;]</code></li> <li><strong>chartTypes</strong>: an array of chart types that are marked as favorite. The names of chart types are identical to chart's UI in the English version. Example: <code>[&quot;Area&quot;, &quot;Candles&quot;]</code>.</li></ul> <h3 id="save-load-adapter"><a href="#save-load-adapter" aria-hidden="true" class="header-anchor">#</a> save_load_adapter</h3> <p><em>Starting from version 1.12.</em></p> <p>An object containing the save/load functions. If it is available it should have the following methods:</p> <p><strong>Chart layouts:</strong></p> <ol><li><p><code>getAllCharts(): Promise&lt;ChartMetaInfo[]&gt;</code></p> <p>A function to get all saved charts.</p> <p><code>ChartMetaInfo</code> is an object with the following fields:</p> <ul><li><code>id</code> - unique ID of the chart.</li> <li><code>name</code> - name of the chart.</li> <li><code>symbol</code> - symbol of the chart.</li> <li><code>resolution</code> - resolution of the chart.</li> <li><code>timestamp</code> - last modified date (number of milliseconds since midnight <code>01/01/1970</code> UTC) of the chart.</li></ul></li> <li><p><code>removeChart(chartId): Promise&lt;void&gt;</code></p> <p>A function to remove a chart. <code>chartId</code> is a unique ID of the chart (see <code>getAllCharts</code> above).</p></li> <li><p><code>saveChart(chartData: ChartData): Promise&lt;ChartId&gt;</code></p> <p>A function to save a chart.</p> <p><code>ChartData</code> is an object with the following fields:</p> <ul><li><code>id</code> - unique ID of the chart (may be <code>undefined</code> if it wasn't saved before).</li> <li><code>name</code> - name of the chart.</li> <li><code>symbol</code> - symbol of the chart.</li> <li><code>resolution</code> - resolution of the chart.</li> <li><code>content</code> - content of the chart.</li></ul> <p><code>ChartId</code> - unique ID of the chart (string)</p></li> <li><p><code>getChartContent(chartId): Promise&lt;ChartContent&gt;</code></p> <p>A function to load the chart from the server.</p> <p><code>ChartContent</code> is a string with the chart content (see <code>ChartData::content</code> field in <code>saveChart</code> function).</p></li></ol> <p><strong>Study Templates:</strong></p> <ol><li><p><code>getAllStudyTemplates(): Promise&lt;StudyTemplateMetaInfo[]&gt;</code></p> <p>A function to get all saved study templates.</p> <p><code>StudyTemplateMetaInfo</code> is an object with the following fields:</p> <ul><li><code>name</code> - name of the study template.</li></ul></li> <li><p><code>removeStudyTemplate(studyTemplateInfo: StudyTemplateMetaInfo): Promise&lt;void&gt;</code></p> <p>A function to remove a study template.</p></li> <li><p><code>saveStudyTemplate(studyTemplateData: StudyTemplateData): Promise&lt;void&gt;</code></p> <p>A function to save a study template.</p> <p><code>StudyTemplateData</code> is an object with the following fields:</p> <ul><li><code>name</code> - name of the study template.</li> <li><code>content</code> - content of the study template.</li></ul></li> <li><p><code>getStudyTemplateContent(studyTemplateInfo: StudyTemplateMetaInfo): Promise&lt;StudyTemplateContent&gt;</code></p> <p>A function to load a study template from the server.</p> <p><code>StudyTemplateContent</code> - content of the study template (string)</p></li></ol> <p>If both <code>charts_storage_url</code> and <code>save_load_adapter</code> are available  then <code>save_load_adapter</code> will be used.</p> <p><strong>IMPORTANT:</strong> All functions should return a <code>Promise</code> (or <code>Promise</code>-like objects).</p> <h3 id="settings-adapter"><a href="#settings-adapter" aria-hidden="true" class="header-anchor">#</a> settings_adapter</h3> <p><em>Starting from version 1.11.</em></p> <p>An object that contains set/remove functions. Use it to save chart settings to your preferred storage (including server-side). If it is available then it should have the following methods:</p> <ol><li><p><code>initialSettings: Object</code></p> <p>An object with the initial settings</p></li> <li><p><code>setValue(key: string, value: string): void</code></p> <p>A function that is called to store key/value pair.</p></li> <li><p><code>removeValue(key: string): void</code></p> <p>A function that is called to remove a key.</p></li></ol> <h2 id="trading-terminal-only"><a href="#trading-terminal-only" aria-hidden="true" class="header-anchor">#</a> Trading Terminal only</h2> <h3 id="widgetbar"><a href="#widgetbar" aria-hidden="true" class="header-anchor">#</a> widgetbar</h3> <p>💹 <em>applies to <a href="Trading-Terminal">Trading Terminal</a> only</em></p> <p>The object that contains settings for the widget panel on the right side of the chart. Watchlist, news and details widgets on the right side of the chart can be enabled using the <code>widgetbar</code> field in Widget constructor:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>widgetbar<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    details<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    watchlist<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    watchlist_settings<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        default_symbols<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;NYSE:AA&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;NYSE:AAL&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;NASDAQ:AAPL&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        readonly<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>details</code> (<em>default:</em> <code>false</code>): Enables details widget in the widget panel on the right.</li> <li><code>watchlist</code> (<em>default:</em> <code>false</code>): Enables watchlist widget in the widget panel on the right.</li> <li><code>watchlist_settings.default_symbols</code> (<em>default:</em> <code>[]</code>): Sets the list of default symbols for watchlist.</li> <li><code>watchlist_settings.readonly</code> (<em>default:</em> <code>false</code>): Enables read-only mode for the watchlist.</li></ul> <h3 id="rss-news-feed"><a href="#rss-news-feed" aria-hidden="true" class="header-anchor">#</a> rss_news_feed</h3> <p>💹 <em>applies to <a href="Trading-Terminal">Trading Terminal</a> only</em></p> <p>Use this property to change the RSS feed for news. You can set a different RSS for each symbol type or use a single RSS for all symbols. The object should have the <code>default</code> property, other properties are optional. The names of the properties match the symbol types. Each property is an object (or an array of objects) with the following properties:</p> <ol><li><code>url</code> - is a URL to be requested. It can contain tags in curly brackets that will be replaced by the terminal: <code>{SYMBOL}</code>, <code>{TYPE}</code>, <code>{EXCHANGE}</code>.</li> <li><code>name</code> - is a name of the feed to be displayed underneath the news.</li></ol> <p>Here is an example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;default&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">&quot;https://articlefeeds.nasdaq.com/nasdaq/symbols?symbol={SYMBOL}&quot;</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;NASDAQ&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">&quot;http://feeds.finance.yahoo.com/rss/2.0/headline?s={SYMBOL}&amp;region=US&amp;lang=en-US&quot;</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;Yahoo Finance&quot;</span>
      <span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Another example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;default&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">&quot;https://articlefeeds.nasdaq.com/nasdaq/symbols?symbol={SYMBOL}&quot;</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;NASDAQ&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>One more example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;default&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">&quot;https://articlefeeds.nasdaq.com/nasdaq/symbols?symbol={SYMBOL}&quot;</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;NASDAQ&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;stock&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        url<span class="token punctuation">:</span> <span class="token string">&quot;http://feeds.finance.yahoo.com/rss/2.0/headline?s={SYMBOL}&amp;region=US&amp;lang=en-US&quot;</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;Yahoo Finance&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="news-provider"><a href="#news-provider" aria-hidden="true" class="header-anchor">#</a> news_provider</h3> <p>💹 <em>applies to <a href="Trading-Terminal">Trading Terminal</a> only</em></p> <p>An object that specifies the news provider. It may contain the following properties:</p> <ol><li><p><code>is_news_generic</code> - if set to <code>true</code> then the title of the news widget will not include a symbol name (<code>Headlines</code> will be included only). Otherwise <code>for SYMBOL_NAME</code> will be added.</p></li> <li><p><code>get_news</code> - use this property to set your own news getter function. Both the <code>symbol</code> and <code>callback</code> will be passed to the function.</p> <p>The callback function should be called with an array of news objects that have the following structure:</p> <ul><li><code>title</code> (required) - the title of news item.</li> <li><code>published</code> (required) - the time of news item in ms (UTC).</li> <li><code>source</code> (optional) - source of the news item title.</li> <li><code>shortDescription</code> (optional) - Short description of a news item that will be displayed under the title.</li> <li><code>link</code> (optional) - URL to the news story.</li> <li><code>fullDescription</code> (optional) - full description (body) of a news item.</li></ul> <p><strong>NOTE:</strong> When a user clicks on a news item a new tab with the <code>link</code> URL will be opened. If <code>link</code> is not specified then a pop-up dialog with <code>fullDescription</code> will be shown.</p> <p><strong>NOTE 2:</strong> If both <code>news_provider</code> and <code>rss_news_feed</code> are available then the <code>rss_news_feed</code> will be ignored.</p></li></ol> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>news_provider<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    is_news_generic<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    get_news<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>symbol<span class="token punctuation">,</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                title<span class="token punctuation">:</span> <span class="token string">'News for symbol '</span> <span class="token operator">+</span> symbol<span class="token punctuation">,</span>
                shortDescription<span class="token punctuation">:</span> <span class="token string">'Short description of the news item'</span><span class="token punctuation">,</span>
                fullDescription<span class="token punctuation">:</span> <span class="token string">'Full description of the news item'</span><span class="token punctuation">,</span>
                published<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                source<span class="token punctuation">:</span> <span class="token string">'My own source of news'</span><span class="token punctuation">,</span>
                link<span class="token punctuation">:</span> <span class="token string">'https://www.tradingview.com/'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                title<span class="token punctuation">:</span> <span class="token string">'Another news for symbol '</span> <span class="token operator">+</span> symbol<span class="token punctuation">,</span>
                shortDescription<span class="token punctuation">:</span> <span class="token string">'Short description of the news item'</span><span class="token punctuation">,</span>
                fullDescription<span class="token punctuation">:</span> <span class="token string">'Full description of the news item. Long text here.'</span><span class="token punctuation">,</span>
                published<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                source<span class="token punctuation">:</span> <span class="token string">'My own source of news'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="brokerfactory"><a href="#brokerfactory" aria-hidden="true" class="header-anchor">#</a> brokerFactory</h3> <p>💹 <em>applies to <a href="Trading-Terminal">Trading Terminal</a> only</em></p> <p>Use this field to pass the function that returns a new object which implements <a href="Broker-API">Broker API</a>. This is a function that accepts <a href="Trading-Host">Trading Host</a> and returns <a href="Broker-API">Broker API</a>.</p> <h3 id="brokerconfig"><a href="#brokerconfig" aria-hidden="true" class="header-anchor">#</a> brokerConfig</h3> <p>💹 <em>applies to <a href="Trading-Terminal">Trading Terminal</a> only</em></p> <p>Use this field to set the configuration flags for the Trading Terminal. <a href="Trading-Objects-and-Constants#configflags-object">Read more</a>.</p> <h2 id="see-also"><a href="#see-also" aria-hidden="true" class="header-anchor">#</a> See Also</h2> <ul><li><a href="Customization-Overview">Customization Overview</a></li> <li><a href="Widget-Methods">Widget Methods</a></li> <li><a href="Featuresets">Featuresets</a></li> <li><a href="Saving-and-Loading-Charts">Saving and Loading Charts</a></li> <li><a href="Studies-Overrides">Overriding Default Properties of the Studies</a></li> <li><a href="Overrides">Overriding Default Properties of the Chart</a></li></ul></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2018-9-6 21:23:09</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/charting_library_wiki/zh/wiki/Customization-Overview.html" class="prev">
          Customization Overview
        </a></span> <span class="next"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html">
          b. Widget Methods
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/charting_library_wiki/assets/js/89.072874a9.js" defer></script><script src="/charting_library_wiki/assets/js/app.e5b750fa.js" defer></script>
  </body>
</html>
