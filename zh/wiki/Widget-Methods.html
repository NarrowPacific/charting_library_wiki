<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Charting Library</title>
    <meta name="description" content="TradingView 中文文档 教程">
    
    
    <link rel="preload" href="/charting_library_wiki/assets/css/0.styles.54154195.css" as="style"><link rel="preload" href="/charting_library_wiki/assets/js/app.e5b750fa.js" as="script"><link rel="preload" href="/charting_library_wiki/assets/js/90.fababa10.js" as="script"><link rel="prefetch" href="/charting_library_wiki/assets/js/45.77fdc049.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/3.9a9210e8.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/4.3025f96f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/5.2e481db8.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/6.692643df.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/7.d6c7c61a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/8.ff0f9bbb.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/9.929a30eb.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/10.b9ac493c.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/11.67531abf.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/12.95004755.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/13.5f8b090e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/14.61d2b640.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/15.7019d5c6.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/16.f84bac21.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/17.33bbeaad.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/18.faed2cc9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/19.eabedd50.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/20.ec41bf98.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/21.e3cda3cb.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/22.75f47b08.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/23.9caf12e7.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/24.9cb52b13.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/25.1ee74391.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/26.23e99a27.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/27.96114175.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/28.c39e9894.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/29.e65ce808.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/30.26d6e58a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/31.1309fa0e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/32.f140b54d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/33.ab7de8c2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/34.497847f4.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/35.ff0d5d4e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/36.510643a4.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/37.ea794330.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/38.c805a15f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/39.dcd0c595.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/40.048441b9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/41.e8f5ac87.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/42.80345ee9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/43.810157de.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/44.ee1eb15d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/46.f3975c58.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/47.e2ed9389.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/48.aa18db6f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/49.6517b828.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/50.aa45c418.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/51.34038e3a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/52.d1e1248d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/53.15f51e33.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/54.b3f35d36.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/55.b3a53b32.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/56.18e47f02.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/57.7107fce6.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/58.fde0151b.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/59.d1cf9754.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/60.79173131.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/61.5e3a4ac2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/62.e4e6e728.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/63.ff9aea40.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/64.4f66dc8f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/65.3b5a4286.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/66.a6f5bbdf.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/67.aff444b7.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/68.c79aa96f.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/69.2f04baac.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/70.b0d52396.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/71.148f19aa.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/72.b9e446e2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/73.ef903171.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/74.d343d04d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/75.19ae215d.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/76.51b0e0e4.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/77.6279f2f3.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/78.b96dc129.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/79.039f3470.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/80.f6138705.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/81.cce9bb97.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/82.f6415b45.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/83.d375e2c5.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/84.a50f5549.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/85.de85aa80.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/86.9f650c9e.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/87.d9b6ad2a.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/88.a371aca2.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/89.072874a9.js"><link rel="prefetch" href="/charting_library_wiki/assets/js/91.cd19e4f3.js">
    <link rel="stylesheet" href="/charting_library_wiki/assets/css/0.styles.54154195.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/charting_library_wiki/zh/" class="home-link router-link-active"><!----> <span class="site-name">Charting Library</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/charting_library_wiki/wiki/Widget-Methods.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/charting_library_wiki/zh/wiki/Widget-Methods.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/charting_library_wiki/wiki/Widget-Methods.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/charting_library_wiki/zh/wiki/Widget-Methods.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/charting_library_wiki/zh/wiki/Home.html" class="sidebar-link">Charting Library 是什么</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>现在开始</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/zh/wiki/Package-Content.html" class="sidebar-link">文件包内容</a></li><li><a href="/charting_library_wiki/zh/wiki/Running-Your-Charting-Library.html" class="sidebar-link">运行图表库</a></li><li><a href="/charting_library_wiki/zh/wiki/Best-Practices.html" class="sidebar-link">最佳实践</a></li><li><a href="/charting_library_wiki/zh/wiki/Frequently-Asked-Questions.html" class="sidebar-link">常见问题</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>绑定数据</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/zh/wiki/How-To-Connect-My-Data.html" class="sidebar-link">如何连接我的数据</a></li><li><a href="/charting_library_wiki/zh/wiki/JS-Api.html" class="sidebar-link">JS Api</a></li><li><a href="/charting_library_wiki/zh/wiki/UDF.html" class="sidebar-link">UDF</a></li><li><a href="/charting_library_wiki/zh/wiki/Symbology.html" class="sidebar-link">Symbology</a></li><li><a href="/charting_library_wiki/zh/wiki/Trading-Sessions.html" class="sidebar-link">Trading Sessions</a></li><li><a href="/charting_library_wiki/zh/wiki/Quotes.html" class="sidebar-link">Quotes</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>图表定制</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/zh/wiki/Customization-Overview.html" class="sidebar-link">Customization Overview</a></li><li><a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html" class="sidebar-link">a. Widget Constructor</a></li><li><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html" class="active sidebar-link">b. Widget Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#methods" class="sidebar-link">Methods</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#subscribing-to-chart-events" class="sidebar-link">Subscribing To Chart Events</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#chart-actions" class="sidebar-link">Chart Actions</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#saving-loading-charts" class="sidebar-link">Saving/Loading Charts</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#custom-ui-controls" class="sidebar-link">Custom UI Controls</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#dialogs" class="sidebar-link">Dialogs</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#getters" class="sidebar-link">Getters</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#customization" class="sidebar-link">Customization</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#trading-terminal-only" class="sidebar-link">💹 Trading Terminal only</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#multiple-charts-layout" class="sidebar-link">💹 Multiple Charts Layout</a></li><li class="sidebar-sub-header"><a href="/charting_library_wiki/zh/wiki/Widget-Methods.html#see-also" class="sidebar-link">See Also</a></li></ul></li><li><a href="/charting_library_wiki/zh/wiki/Chart-Methods.html" class="sidebar-link">c. Chart Methods</a></li><li><a href="/charting_library_wiki/zh/wiki/Featuresets.html" class="sidebar-link">d. Featuresets</a></li><li><a href="/charting_library_wiki/zh/wiki/Customization-Overview.html#customization-done-through-data-stream" class="sidebar-link">服务器端定制</a></li><li><a href="/charting_library_wiki/zh/wiki/Customization-Use-Cases.html" class="sidebar-link">定制用例</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Trading Terminal</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/charting_library_wiki/wiki/Trading-Terminal.html" class="sidebar-link">1. Brief Intro</a></li><li><a href="/charting_library_wiki/wiki/Broker-API.html" class="sidebar-link">2. Broker API</a></li><li><a href="/charting_library_wiki/wiki/Trading-Host.html" class="sidebar-link">3. Trading Host</a></li><li><a href="/charting_library_wiki/wiki/Account-Manager.html" class="sidebar-link">4. Account Manager</a></li><li><a href="/charting_library_wiki/wiki/Trading-Objects-and-Constants.html" class="sidebar-link"> 5.Trading Objects and Constants</a></li><li><a href="/charting_library_wiki/wiki/Saving-and-Loading-Charts.html" class="sidebar-link">Saving/Loading Charts</a></li><li><a href="/charting_library_wiki/wiki/Creating-Custom-Studies.html" class="sidebar-link">Creating Custom Studies</a></li><li><a href="/charting_library_wiki/wiki/Breaking-Changes.html" class="sidebar-link">Breaking Changes In Version</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><p>Below is the list of methods that the widget supports. You can call them using the widget object that is returned to you by the widget's constructor.</p> <p><strong>Remark</strong>: Please note that it's safe to call any method only <strong>after</strong> onChartReady callback function is called.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>widget<span class="token punctuation">.</span><span class="token function">onChartReady</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// It's now safe to call any other methods of the widget</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="methods"><a href="#methods" aria-hidden="true" class="header-anchor">#</a> Methods</h2> <ul><li><a href="#subscribing-to-chart-events">Subscribing To Chart Events</a> <ul><li><a href="#onchartreadycallback">onChartReady(callback)</a></li> <li><a href="#headerready">headerReady()</a></li> <li><a href="#ongrayedobjectclickedcallback">onGrayedObjectClicked(callback)</a></li> <li><a href="#onshortcutshortcut-callback">onShortcut(shortcut, callback)</a></li> <li><a href="#subscribeevent-callback">subscribe(event, callback)</a></li> <li><a href="#unsubscribeevent-callback">unsubscribe(event, callback)</a></li></ul></li> <li><a href="#chart-actions">Chart Actions</a> <ul><li><a href="#chart">chart()</a></li> <li><a href="#setlanguagelocale">setLanguage(locale)</a></li> <li><a href="#setsymbolsymbol-interval-callback">setSymbol(symbol, interval, callback)</a></li> <li><a href="#remove">remove()</a></li> <li><a href="#closepopupsanddialogs">closePopupsAndDialogs()</a></li> <li><a href="#selectlinetooldrawingid">selectLineTool(drawingId)</a></li> <li><a href="#selectedlinetool">selectedLineTool()</a></li> <li><a href="#takescreenshot">takeScreenshot()</a></li> <li><a href="#lockalldrawingtools">lockAllDrawingTools</a></li> <li><a href="#hidealldrawingtools">hideAllDrawingTools</a></li></ul></li> <li><a href="#savingloading-charts">Saving/Loading Charts</a> <ul><li><a href="#savecallback">save(callback)</a></li> <li><a href="#loadstate">load(state)</a></li> <li><a href="#getsavedchartscallback">getSavedCharts(callback)</a></li> <li><a href="#loadchartfromserverchartrecord">loadChartFromServer(chartRecord)</a></li> <li><a href="#savecharttoserveroncompletecallback-onfailcallback-saveassnapshot-options">saveChartToServer(onCompleteCallback, onFailCallback, saveAsSnapshot, options)</a></li> <li><a href="#removechartfromserverchartid-oncompletecallback">removeChartFromServer(chartId, onCompleteCallback)</a></li></ul></li> <li><a href="#custom-ui-controls">Custom UI Controls</a> <ul><li><a href="#oncontextmenucallback">onContextMenu(callback)</a></li> <li><a href="#createbuttonoptions">createButton(options)</a></li></ul></li> <li><a href="#dialogs">Dialogs</a> <ul><li><a href="#shownoticedialogparams">showNoticeDialog(params)</a></li> <li><a href="#showconfirmdialogparams">showConfirmDialog(params)</a></li> <li><a href="#showloadchartdialog">showLoadChartDialog()</a></li> <li><a href="#showsaveaschartdialog">showSaveAsChartDialog()</a></li></ul></li> <li><a href="#getters">Getters</a> <ul><li><a href="#symbolinterval">symbolInterval(callback)</a></li> <li><a href="#mainseriespriceformatter">mainSeriesPriceFormatter()</a></li> <li><a href="#getintervals">getIntervals()</a></li> <li><a href="#getstudieslist">getStudiesList()</a></li></ul></li> <li><a href="#customization">Customization</a> <ul><li><a href="#changethemethemename">changeTheme(themeName)</a></li> <li><a href="#addcustomcssfileurl">addCustomCSSFile(url)</a></li> <li><a href="#applyoverridesoverrides">applyOverrides(overrides)</a></li> <li><a href="#applystudiesoverridesoverrides">applyStudiesOverrides(overrides)</a></li></ul></li> <li>💹 <a href="#chart-trading-terminal-only">Trading Terminal only</a> <ul><li><a href="#chart-watchlist">watchList()</a></li></ul></li> <li>💹 <a href="#chart-multiple-charts-layout">Multiple Charts Layout</a> <ul><li><a href="#chart-chartindex">chart(index)</a></li> <li><a href="#chart-activechart">activeChart()</a></li> <li><a href="#chart-chartscount">chartsCount()</a></li> <li><a href="#chart-layout">layout()</a></li> <li><a href="#chart-setlayoutlayout">setLayout(layout)</a></li></ul></li></ul> <h2 id="subscribing-to-chart-events"><a href="#subscribing-to-chart-events" aria-hidden="true" class="header-anchor">#</a> Subscribing To Chart Events</h2> <h3 id="onchartready-callback"><a href="#onchartready-callback" aria-hidden="true" class="header-anchor">#</a> onChartReady(callback)</h3> <ol><li><code>callback</code>: function()</li></ol> <p>The Charting Library will call the callback function 1 time when chart is initialized.
You can safely call all other methods starting from this moment.</p> <h3 id="headerready"><a href="#headerready" aria-hidden="true" class="header-anchor">#</a> headerReady()</h3> <p>Returns a <code>Promise</code> object that should be used to handle an event when the Charting Library header widget API is ready (e.g. <a href="#createbuttonoptions">createButton</a>).</p> <h3 id="ongrayedobjectclicked-callback"><a href="#ongrayedobjectclicked-callback" aria-hidden="true" class="header-anchor">#</a> onGrayedObjectClicked(callback)</h3> <ol><li><code>callback</code>: function(subject)
<ol><li><code>subject</code>: object <code>{type, name}</code> <ul><li><code>type</code>: <code>drawing</code> | <code>study</code></li> <li><code>name</code>: string, name of a clicked subject</li></ul></li></ol></li></ol> <p>The Library will call the <code>callback</code> function every time a user clicks on a grayed out object.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">TradingView<span class="token punctuation">.</span>widget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    drawings_access<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
        tools<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Trend Line&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Trend Angle&quot;</span><span class="token punctuation">,</span> grayed<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    studies_access<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
        tools<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Aroon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">&quot;Balance of Power&quot;</span><span class="token punctuation">,</span> grayed<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">&lt;</span><span class="token operator">...</span><span class="token operator">&gt;</span> <span class="token comment">// other widget settings</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

widget<span class="token punctuation">.</span><span class="token function">onChartReady</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    widget<span class="token punctuation">.</span><span class="token function">onGrayedObjectClicked</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// this function will be called when a user tries to</span>
        <span class="token comment">// create the Balance Of Power study or the Trend Angle shape</span>

        <span class="token function">alert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot; is grayed out!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="onshortcut-shortcut-callback"><a href="#onshortcut-shortcut-callback" aria-hidden="true" class="header-anchor">#</a> onShortcut(shortcut, callback)</h3> <ol><li><code>shortcut</code></li> <li><code>callback</code>: function(data)</li></ol> <p>The Library will call the <code>callback</code> function every time the shortcut key is pressed.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>widget<span class="token punctuation">.</span><span class="token function">onShortcut</span><span class="token punctuation">(</span><span class="token string">&quot;alt+s&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  widget<span class="token punctuation">.</span><span class="token function">executeActionById</span><span class="token punctuation">(</span><span class="token string">&quot;symbolSearch&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="subscribe-event-callback"><a href="#subscribe-event-callback" aria-hidden="true" class="header-anchor">#</a> subscribe(event, callback)</h3> <ol><li><code>event</code>: can be</li></ol> <table><thead><tr><th>Event name</th> <th>Library Version</th> <th>Description</th></tr></thead> <tbody><tr><td><code>toggle_sidebar</code></td> <td></td> <td>Drawing toolbar is shown/hidden</td></tr> <tr><td><code>indicators_dialog</code></td> <td></td> <td>Indicators dialog is shown</td></tr> <tr><td><code>toggle_header</code></td> <td></td> <td>Chart header is shown/hidden</td></tr> <tr><td><code>edit_object_dialog</code></td> <td></td> <td>Chart/Study Properties dialog is shown</td></tr> <tr><td><code>chart_load_requested</code></td> <td></td> <td>New chart is about to be loaded</td></tr> <tr><td><code>chart_loaded</code></td> <td></td> <td></td></tr> <tr><td><code>mouse_down</code></td> <td></td> <td></td></tr> <tr><td><code>mouse_up</code></td> <td></td> <td></td></tr> <tr><td><code>drawing</code></td> <td>1.7</td> <td>A drawing is added to a chart. The arguments contain an object with the <code>value</code> field that corresponds with the name of the drawing.</td></tr> <tr><td><code>study</code></td> <td>1.7</td> <td>An indicator is added to a chart.The arguments contain an object with the <code>value</code> field that corresponds with the name of the indicator.</td></tr> <tr><td><code>undo</code></td> <td>1.7</td> <td></td></tr> <tr><td><code>redo</code></td> <td>1.7</td> <td></td></tr> <tr><td><code>reset_scales</code></td> <td>1.7</td> <td>Reset scales button is clicked</td></tr> <tr><td><code>compare_add</code></td> <td>1.7</td> <td>A compare dialog is shown</td></tr> <tr><td><code>add_compare</code></td> <td>1.7</td> <td>A compare instrument is added</td></tr> <tr><td><code>load_study</code> template</td> <td>1.7</td> <td>A study template is loaded</td></tr> <tr><td><code>onTick</code></td> <td></td> <td>Last bar is updated</td></tr> <tr><td><code>onAutoSaveNeeded</code></td> <td></td> <td>User changed the chart. <code>Chart change</code> means any user action that can be undone. The callback function will not be called more than once every 5 seconds. See also <a href="Widget-Constructor#auto_save_delay">auto_save_delay</a></td></tr> <tr><td><code>onScreenshotReady</code></td> <td></td> <td>A screenshot URL is returned by the server</td></tr> <tr><td><code>onMarkClick</code></td> <td></td> <td>User clicked a <a href="Marks-On-Bars">mark on a bar</a>. Mark ID will be passed as an argument</td></tr> <tr><td><code>onTimescaleMarkClick</code></td> <td></td> <td>User clicked a timescale mark. Mark ID will be passed as an argument</td></tr> <tr><td><code>onSelectedLineToolChanged</code></td> <td></td> <td>Selected line tool is changed</td></tr> <tr><td>💹 <code>layout_about_to_be_changed</code></td> <td></td> <td>Amount or placement of the charts is about to be changed</td></tr> <tr><td>💹 <code>layout_changed</code></td> <td></td> <td>Amount or placement of the charts is changed</td></tr> <tr><td>💹 <code>activeChartChanged</code></td> <td></td> <td>Active chart is changed</td></tr></tbody></table> <ol><li><code>callback</code>: function(arguments)</li></ol> <p>The library will call the <code>callback</code> function when a GUI <code>event</code> has happened.
Every event can have a different set of arguments.</p> <h3 id="unsubscribe-event-callback"><a href="#unsubscribe-event-callback" aria-hidden="true" class="header-anchor">#</a> unsubscribe(event, callback)</h3> <p>Unsubscribes a previously subscribed <code>callback</code> function from a given <code>event</code> (that is one of the events in the table above).</p> <h2 id="chart-actions"><a href="#chart-actions" aria-hidden="true" class="header-anchor">#</a> Chart Actions</h2> <h3 id="chart"><a href="#chart" aria-hidden="true" class="header-anchor">#</a> chart()</h3> <p>Returns a chart object that you can use to call <a href="Chart-Methods">Chart-Methods</a></p> <h3 id="setlanguage-locale"><a href="#setlanguage-locale" aria-hidden="true" class="header-anchor">#</a> setLanguage(locale)</h3> <ol><li><code>locale</code>: <a href="Localization">language code</a></li></ol> <p>Sets the language of the widget. For now, this call reloads the chart. <strong>Please avoid using it</strong>.</p> <h3 id="setsymbol-symbol-interval-callback"><a href="#setsymbol-symbol-interval-callback" aria-hidden="true" class="header-anchor">#</a> setSymbol(symbol, interval, callback)</h3> <ol><li><code>symbol</code>: string</li> <li><code>interval</code>: string</li> <li><code>callback</code>: function()</li></ol> <p>Changes the symbol and resolution of the chart. The <code>callback</code> function is called only when new symbol's data has been received.</p> <h3 id="remove"><a href="#remove" aria-hidden="true" class="header-anchor">#</a> remove()</h3> <p>Removes the chart widget from the web page.</p> <h3 id="closepopupsanddialogs"><a href="#closepopupsanddialogs" aria-hidden="true" class="header-anchor">#</a> closePopupsAndDialogs()</h3> <p>Calling this method closes all context menus, pop-ups or dialogs.</p> <h3 id="selectlinetool-drawingid"><a href="#selectlinetool-drawingid" aria-hidden="true" class="header-anchor">#</a> selectLineTool(drawingId)</h3> <ol><li><code>drawingId</code>: may be one of the <a href="Shapes-and-Overrides">identifiers</a> or
<ol><li><code>cursor</code></li> <li><code>dot</code></li> <li><code>arrow_cursor</code></li> <li><code>eraser</code></li> <li><code>measure</code></li> <li><code>zoom</code></li> <li><code>brush</code></li></ol></li></ol> <p>Selects a drawing or a cursor. It's the same as a single click on a drawing button.</p> <h3 id="selectedlinetool"><a href="#selectedlinetool" aria-hidden="true" class="header-anchor">#</a> selectedLineTool()</h3> <p>Returns an <a href="Shapes-and-Overrides">identifier</a> of the selected drawing or cursor (see above).</p> <h3 id="takescreenshot"><a href="#takescreenshot" aria-hidden="true" class="header-anchor">#</a> takeScreenshot()</h3> <p>This method creates a snapshot of the chart and uploads it to the server.
When it is done the <a href="#subscribeevent-callback">onScreenshotReady</a> callback function is called.
The URL of the snapshot will be passed as an argument to the callback function.</p> <h3 id="lockalldrawingtools"><a href="#lockalldrawingtools" aria-hidden="true" class="header-anchor">#</a> lockAllDrawingTools()</h3> <p>This method returns a <a href="WatchedValue">WatchedValue</a> object that can be used to read/set/watch the state of Lock All Drawing Tools button.</p> <h3 id="hidealldrawingtools"><a href="#hidealldrawingtools" aria-hidden="true" class="header-anchor">#</a> hideAllDrawingTools()</h3> <p>This method returns a <a href="WatchedValue">WatchedValue</a> object that can be used to read/set/watch the state of Hide All Drawing Tools button.</p> <h2 id="saving-loading-charts"><a href="#saving-loading-charts" aria-hidden="true" class="header-anchor">#</a> Saving/Loading Charts</h2> <h3 id="save-callback"><a href="#save-callback" aria-hidden="true" class="header-anchor">#</a> save(callback)</h3> <ol><li><code>callback</code>: function(object)</li></ol> <p>Saves the chart state to JS object. Charting Library will call your callback function and pass the state object as an argument.</p> <p>This call is part of the low-level <a href="Saving-and-Loading-Charts">save/load API</a>.</p> <h3 id="load-state"><a href="#load-state" aria-hidden="true" class="header-anchor">#</a> load(state)</h3> <ol><li><code>state</code>: object</li></ol> <p>Loads the chart from the <code>state</code> object. This call is part of the low-level <a href="Saving-and-Loading-Charts">save/load API</a>.</p> <h3 id="getsavedcharts-callback"><a href="#getsavedcharts-callback" aria-hidden="true" class="header-anchor">#</a> getSavedCharts(callback)</h3> <ol><li><code>callback</code>: function(objects)</li></ol> <p><code>objects</code> is an array of:</p> <ul><li><code>id</code></li> <li><code>name</code></li> <li><code>image_url</code></li> <li><code>modified_iso</code></li> <li><code>short_symbol</code></li> <li><code>interval</code></li></ul> <p>Returns a list of chart descriptions saved to the server for the current user.</p> <h3 id="loadchartfromserver-chartrecord"><a href="#loadchartfromserver-chartrecord" aria-hidden="true" class="header-anchor">#</a> loadChartFromServer(chartRecord)</h3> <ol><li><code>chartRecord</code> is an object that you get using <a href="#getsavedchartscallback">getSavedCharts(callback)</a></li></ol> <p>Loads and displays a chart from the server.</p> <h3 id="savecharttoserver-oncompletecallback-onfailcallback-saveassnapshot-options"><a href="#savecharttoserver-oncompletecallback-onfailcallback-saveassnapshot-options" aria-hidden="true" class="header-anchor">#</a> saveChartToServer(onCompleteCallback, onFailCallback, saveAsSnapshot, options)</h3> <ol><li><code>onCompleteCallback</code>: function()</li> <li><code>onFailCallback</code>: function()</li> <li><code>saveAsSnapshot</code>: should be always <code>false</code></li> <li><code>options</code>: object <code>{ chartName }</code> <ul><li><code>chartName</code>: name of a chart. Should be specified for new charts and when renaming the chart.</li> <li><code>defaultChartName</code>: default name of a chart. It will be used if the current chart has no name.</li></ul></li></ol> <p>Saves the current chart to the server.</p> <h3 id="removechartfromserver-chartid-oncompletecallback"><a href="#removechartfromserver-chartid-oncompletecallback" aria-hidden="true" class="header-anchor">#</a> removeChartFromServer(chartId, onCompleteCallback)</h3> <ol><li><code>chartId</code>: the <code>id</code> should be received from the object that is returned by the <a href="#getsavedchartscallback">getSavedCharts(callback)</a></li> <li><code>onCompleteCallback</code>: function()</li></ol> <p>Removes the chart from the server.</p> <h2 id="custom-ui-controls"><a href="#custom-ui-controls" aria-hidden="true" class="header-anchor">#</a> Custom UI Controls</h2> <h3 id="oncontextmenu-callback"><a href="#oncontextmenu-callback" aria-hidden="true" class="header-anchor">#</a> onContextMenu(callback)</h3> <ol><li><code>callback</code>: function(unixtime, price).
This callback function is expected to return a value (see below).</li></ol> <p>The Charting Library will call the callback function every time  user opens a context menu on the chart.
The arguments that are passed to the callback function contain unix time and price of the clicked point on the chart.</p> <p>You have to return an array of objects that have the following format to add or remove items from the context menu.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    position<span class="token punctuation">:</span> <span class="token string">'top'</span> <span class="token operator">|</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> <span class="token string">'Menu item text'</span><span class="token punctuation">,</span>
    click<span class="token punctuation">:</span> <span class="token operator">&lt;</span>onItemClicked callback<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>position</code>: position of the item in the context menu</li> <li><code>text</code>: menu item text</li> <li><code>click</code>: a callback function that will be called when a user selects your menu item</li></ul> <p>Use the minus sign to add a separator. Example: <code>{ text: &quot;-&quot;, position: &quot;top&quot; }</code>.</p> <p>Use the minus sign in front of the item text to remove an existing item from the menu.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>widget<span class="token punctuation">.</span><span class="token function">onChartReady</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    widget<span class="token punctuation">.</span><span class="token function">onContextMenu</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>unixtime<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            position<span class="token punctuation">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            text<span class="token punctuation">:</span> <span class="token string">&quot;First top menu item, time: &quot;</span> <span class="token operator">+</span> unixtime <span class="token operator">+</span> <span class="token string">&quot;, price: &quot;</span> <span class="token operator">+</span> price<span class="token punctuation">,</span>
            click<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;First clicked.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> position<span class="token punctuation">:</span> <span class="token string">&quot;top&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&quot;-Objects Tree...&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            position<span class="token punctuation">:</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span>
            text<span class="token punctuation">:</span> <span class="token string">&quot;Second top menu item 2&quot;</span><span class="token punctuation">,</span>
            click<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Second clicked.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            position<span class="token punctuation">:</span> <span class="token string">&quot;bottom&quot;</span><span class="token punctuation">,</span>
            text<span class="token punctuation">:</span> <span class="token string">&quot;Bottom menu item&quot;</span><span class="token punctuation">,</span>
            click<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Third clicked.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="createbutton-options"><a href="#createbutton-options" aria-hidden="true" class="header-anchor">#</a> createButton(options)</h3> <ol><li><code>options</code>: object <code>{ align: &quot;left&quot; }</code> <ul><li><code>align</code>: <code>right</code> | <code>left</code>. default: <code>left</code></li></ul></li></ol> <p>Creates a new DOM element in the top toolbar of the chart and returns <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement" target="_blank" rel="noopener noreferrer">HTMLElement<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for this button.
You can use it to add custom controls right on the chart.</p> <p><strong>NOTE:</strong> This method MUST be called after <a href="#headerready">headerReady</a> promise is resolved.</p> <p>Example:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>widget<span class="token punctuation">.</span><span class="token function">headerReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> button <span class="token operator">=</span> widget<span class="token punctuation">.</span><span class="token function">createButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'title'</span><span class="token punctuation">,</span> <span class="token string">'My custom button tooltip'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;My custom button pressed!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    button<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'My custom button caption'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="dialogs"><a href="#dialogs" aria-hidden="true" class="header-anchor">#</a> Dialogs</h2> <p><em>Starting from version 1.6.</em></p> <h3 id="shownoticedialog-params"><a href="#shownoticedialog-params" aria-hidden="true" class="header-anchor">#</a> showNoticeDialog(params)</h3> <ol><li><code>params</code>: object:
<ul><li><code>title</code>: text to be shown in the title</li> <li><code>body</code>: text to be shown in the body</li> <li><code>callback</code>: function to be called when ok button is pressed</li></ul></li></ol> <p>This method shows a dialog with custom title and text along with the &quot;OK&quot; button.</p> <h3 id="showconfirmdialog-params"><a href="#showconfirmdialog-params" aria-hidden="true" class="header-anchor">#</a> showConfirmDialog(params)</h3> <ol><li><code>params</code>: object:
<ul><li><code>title</code>: text to be shown in the title</li> <li><code>body</code>: text to be shown in the body</li> <li><code>callback(result)</code>: function to be called when ok button is pressed.
<code>result</code> is <code>true</code> if <code>OK</code> is pressed, otherwise it is <code>false</code>.</li></ul></li></ol> <p>This method shows a dialog with the custom title and text along with the &quot;OK&quot; and &quot;CANCEL&quot; buttons.</p> <h3 id="showloadchartdialog"><a href="#showloadchartdialog" aria-hidden="true" class="header-anchor">#</a> showLoadChartDialog()</h3> <p>Displays the &quot;Load chart layout&quot; dialog.</p> <h3 id="showsaveaschartdialog"><a href="#showsaveaschartdialog" aria-hidden="true" class="header-anchor">#</a> showSaveAsChartDialog()</h3> <p>Displays the &quot;Copy chart layout&quot; dialog.</p> <h2 id="getters"><a href="#getters" aria-hidden="true" class="header-anchor">#</a> Getters</h2> <h3 id="symbolinterval"><a href="#symbolinterval" aria-hidden="true" class="header-anchor">#</a> symbolInterval()</h3> <p>Charting Library returns an object that contains the symbol and interval of the chart.</p> <h3 id="mainseriespriceformatter"><a href="#mainseriespriceformatter" aria-hidden="true" class="header-anchor">#</a> mainSeriesPriceFormatter()</h3> <p>Returns an object with the <code>format</code> method that you can use to format the prices. This was introduced in version 1.5.</p> <h3 id="getintervals"><a href="#getintervals" aria-hidden="true" class="header-anchor">#</a> getIntervals()</h3> <p>Returns an array of supported resolutions. This was introduced in version 1.7.</p> <h3 id="getstudieslist"><a href="#getstudieslist" aria-hidden="true" class="header-anchor">#</a> getStudiesList()</h3> <p>Returns an array of IDs of all studies. They can be used to create a study.</p> <h2 id="customization"><a href="#customization" aria-hidden="true" class="header-anchor">#</a> Customization</h2> <h3 id="changetheme-themename"><a href="#changetheme-themename" aria-hidden="true" class="header-anchor">#</a> changeTheme(themeName)</h3> <p><em>Starting from version 1.13.</em></p> <ol><li><code>themeName</code> should be <code>&quot;Light&quot;</code> | <code>&quot;Dark&quot;</code></li></ol> <p>This method changes the chart theme without reloading the chart.</p> <p>You can also use the <a href="Widget-Constructor#theme">theme</a> in the Widget Constructor to create the chart with a custom theme.</p> <h3 id="addcustomcssfile-url"><a href="#addcustomcssfile-url" aria-hidden="true" class="header-anchor">#</a> addCustomCSSFile(url)</h3> <ol><li><code>url</code> should be an absolute or relative path to the 'static` folder</li></ol> <p>This method was introduced in version <code>1.3</code>.</p> <p>Starting from version <code>1.4</code> use <a href="Widget-Constructor#custom_css_url">custom_css_url</a> instead.</p> <h3 id="applyoverrides-overrides"><a href="#applyoverrides-overrides" aria-hidden="true" class="header-anchor">#</a> applyOverrides(overrides)</h3> <p><em>Starting from version 1.5.</em></p> <ol><li><code>overrides</code> is an object.
It is the same as <a href="Widget-Constructor#overrides">overrides</a> in the Widget Constructor.</li></ol> <p>This method applies &quot;overrides&quot; to the properties without reloading the chart.</p> <h3 id="applystudiesoverrides-overrides"><a href="#applystudiesoverrides-overrides" aria-hidden="true" class="header-anchor">#</a> applyStudiesOverrides(overrides)</h3> <p><em>Starting from version 1.9.</em></p> <ol><li><code>overrides</code> is an object. It is the same as <a href="Widget-Constructor#studies_overrides">studies_overrides</a> in the Widget Constructor.</li></ol> <p>This method applies &quot;overrides&quot; to the styles or inputs of the indicators without reloading the chart.</p> <h2 id="trading-terminal-only"><a href="#trading-terminal-only" aria-hidden="true" class="header-anchor">#</a> 💹 Trading Terminal only</h2> <p>The following methods are available in <a href="Trading-Terminal">Trading Terminal</a> only.</p> <h3 id="watchlist"><a href="#watchlist" aria-hidden="true" class="header-anchor">#</a> 💹 watchList()</h3> <p><em>Starting from version 1.9.</em></p> <p>Returns an object to manage the watchlist. The object has the following methods:</p> <ol><li><p><code>defaultList()</code> - allows you to get a default list of symbols.</p></li> <li><p><code>getList(id?: string)</code> - allows you to get a list of symbols. If the <code>id</code> parameter is not provided then the current list will be returned. If there is no WatchList then <code>null</code> will be returned.</p></li> <li><p><code>getActiveListId()</code> - allows you to get the ID of the current list. If there is no WatchList then <code>null</code> will be returned.</p></li> <li><p><code>getAllLists()</code> - allows you to get all lists. If there is no WatchList then <code>null</code> will be returned.</p></li> <li><p><code>setList(symbols: string[])</code> - allows you to set a list of symbols into the watchlist. It will replace the entire list. <strong>Obsolete. Will be removed in version <code>1.13</code>. Use <code>updateList</code> instead.</strong></p></li> <li><p><code>updateList(listId: string, symbols: string[])</code> - allows you to edit the list of symbols.</p></li> <li><p><code>renameList(listId: string, newName: string)</code> - allows you to rename the list to <code>newName</code>.</p></li> <li><p><code>createList(listName?: string, symbols?: string[])</code> - allows you to create a list of symbols with <code>listName</code> name. If the <code>listName</code> parameter is not provided or there is no WatchList then <code>null</code> will be returned;</p></li> <li><p><code>saveList(list: SymbolList)</code> - allows you to save a list of symbols where <code>list</code> is an object with the following keys:</p> <div class="language-js extra-class"><pre class="language-js"><code>id<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
title<span class="token punctuation">:</span> string<span class="token punctuation">;</span>
symbols<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>If there is no WatchList or an equivalent list already exists then <code>false</code> will be returned, otherwise <code>true</code> will returned.</p></li> <li><p><code>deleteList(listId: string)</code> - allows you to delete a list of symbols.</p></li> <li><p><code>onListChanged()</code> - you can use this method to be notified when the symbols of the active watchlist are changed. You can subscribe and unsubscribe using the [[Subscription]] object returned by this function.</p></li> <li><p><code>onActiveListChanged()</code> - you can use this method to be notified when a different list of the watchlist is selected. You can subscribe and unsubscribe using the [[Subscription]] object returned by this function.</p></li> <li><p><code>onListAdded()</code> - - you can use this method to be notified when the new list is added to the watchlist. You can subscribe and unsubscribe using the [[Subscription]] object returned by this function.</p></li> <li><p><code>onListRemoved()</code> - you can use this method to be notified when the list is removed from the watchlist. You can subscribe and unsubscribe using the [[Subscription]] object returned by this function.</p></li> <li><p><code>onListRenamed()</code> - - you can use this method to be notified when the list is renamed in the watchlist. You can subscribe and unsubscribe using the [[Subscription]] object returned by this function.</p></li></ol> <h2 id="multiple-charts-layout"><a href="#multiple-charts-layout" aria-hidden="true" class="header-anchor">#</a> 💹 Multiple Charts Layout</h2> <h3 id="chart-index"><a href="#chart-index" aria-hidden="true" class="header-anchor">#</a> 💹 chart(index)</h3> <ol><li><code>index</code>: index of a chart starting from <code>0</code>. <code>index</code> is <code>0</code> by default.</li></ol> <p>Returns a chart object that you can use to call <a href="Chart-Methods">Chart-Methods</a></p> <h3 id="activechart"><a href="#activechart" aria-hidden="true" class="header-anchor">#</a> 💹 activeChart()</h3> <p>Returns a chart object of the active chart that you can use to call <a href="Chart-Methods">Chart-Methods</a></p> <h3 id="chartscount"><a href="#chartscount" aria-hidden="true" class="header-anchor">#</a> 💹 chartsCount()</h3> <p>Returns the amount of charts in the current layout.</p> <h3 id="layout"><a href="#layout" aria-hidden="true" class="header-anchor">#</a> 💹 layout()</h3> <p>Returns the current layout mode. Possible values are: <code>4</code>, <code>6</code>, <code>8</code>, <code>s</code>, <code>2h</code>, <code>2-1</code>, <code>2v</code>, <code>3h</code>, <code>3v</code>, <code>3s</code>.</p> <h3 id="setlayout-layout"><a href="#setlayout-layout" aria-hidden="true" class="header-anchor">#</a> 💹 setLayout(layout)</h3> <ol><li><code>layout</code>: Possible values are: <code>4</code>, <code>6</code>, <code>8</code>, <code>s</code>, <code>2h</code>, <code>2-1</code>, <code>2v</code>, <code>3h</code>, <code>3v</code>, <code>3s</code>.</li></ol> <p>Changes the current chart layout.</p> <h2 id="see-also"><a href="#see-also" aria-hidden="true" class="header-anchor">#</a> See Also</h2> <ul><li><a href="Chart-Methods">Chart-Methods</a></li> <li><a href="Customization-Overview">Customization Overview</a></li> <li><a href="Widget-Constructor">Widget Constructor</a></li> <li><a href="Saving-and-Loading-Charts">Saving and Loading Charts</a></li> <li><a href="Studies-Overrides">Overriding Default Properties of the Studies</a></li> <li><a href="Overrides">Overriding Default Properties of the Chart</a></li></ul></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2018-9-6 21:23:09</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/charting_library_wiki/zh/wiki/Widget-Constructor.html" class="prev">
          a. Widget Constructor
        </a></span> <span class="next"><a href="/charting_library_wiki/zh/wiki/Chart-Methods.html">
          c. Chart Methods
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/charting_library_wiki/assets/js/90.fababa10.js" defer></script><script src="/charting_library_wiki/assets/js/app.e5b750fa.js" defer></script>
  </body>
</html>
